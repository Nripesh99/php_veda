<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link
      href="https://cdn.datatables.net/v/dt/dt-1.13.8/datatables.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <table width="100%" class="table table-hover" id="dataTables-example">
      <thead>
        <tr>
          <th>ID.No</th>
          <th>Name</th>
          <th>Email</th>
          <th>Address</th>
          <th>Image</th>
          <th>role_id</th>
          <th>Action</th>
        </tr>
      </thead>
    </table>
    <script src="https://cdn.datatables.net/v/dt/dt-1.13.8/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.js"></script>
    <script>
      $(document).ready(function () {
        $("#dataTables-example").DataTable({
          processing: true,
          serverSide: true,
          ajax: {
            url: "http://localhost:8000/user/frontend/fetch_user/fetch_user_data.php",
            dataSrc: "data",
          },
          columns: [
            { data: "id" },
            { data: "Name" },
            { data: "Email" },
            //   { data: 'Password' },
            { data: "Address" },
            {
              data: "Image",
              render: function (data, type, row) {
                return (
                  '<img src="../' +
                  data +
                  '" alt="Image" style="width: 100px; height: 100px;" />'
                );
              },
            },
            { data: "role_id" },
            {
              data: 'id',
              render: function (data, type, row) {
                return '<button onclick="editRow(' + data + ')">Edit</button> <button onclick="deleteRow(' + data + ')">Delete</button>';
              }
            }  
          ],
        });
      });
    </script>
  </body>
</html>
